<!DOCTYPE html>

<html>
<head lang="es">

    <title>Mi Perfil</title>

    <meta http-equiv="Content-Type" content="text/html"/>

       <meta charset="utf-8">

    <link rel="stylesheet" href="../app/css/bootstrap.min.css" />

    <link rel="stylesheet" href="../app/css/profile/main.css" />
</head>
<body>


<div class="body" ng-init="loadUser()">


        <div class="foto">
        <img src={{user.image}} style="width:250px;height:200px;">
        </div>



        <form class="descripcion" name="editForm" ng-submit="updateUser(editForm.$valid)">
          <div custom-file-input ng-model="user.profpic" ng-show="allow()">
            <input type="file" ng-model="user.profpic" accept="image/*">
          </div>
            <button class="btnEditarPerfil" ng-click="admit()" ng-show="canedit()">Editar Perfil</button>
            <button class="btnAgregar" ng-show="canadd()" ng-click="addUser()">Agregar</button>
            <button class="btnGuardarPerfil" type="submit" ng-show="allow()">Guardar</button>
            <button class="btnEditarPerfil" ng-click="deleteUser()">Borrar cuenta</button>

            <br>


          <label class="label">Usuario:</label>
            <!--ES EL INPUT PARA EL USUARIO-->
        <center><input class="datos" type="text" name="edusername" ng-model=user.username readonly="allow()" ng-pattern="/^[a-z0-9]{4,16}$/i"/></center>
           <hr>
             <label class="label">Email:</label>
            <!--ES EL INPUT PARA EL EMAIL-->
        <center><input class="datos" type="email" name="edemail" ng-model=user.email ></center>


             <label class="label">Nombre:</label>
            <!--ES EL INPUT PARA EL NOMBRE-->
        <center><input class="datos" type="text" name="edefirstname" ng-model=user.firstname ng-pattern="/^[A-Z]{3,30}$/i"/></center>

        <label class="label">Apellido:</label>
       <!--ES EL INPUT PARA EL NOMBRE-->
       <center><input class="datos" type="text" name="edelastname" ng-model=user.lastname ng-pattern="/^[A-Z]{3,30}$/i"/></center>


        <label class="label">Fecha de Ingreso: </label>
            <!--ES EL INPUT PARA   LA FECHA DE INGRESO-->
        <center><input class="datos" type="text"  ng-model=user.joinDate readonly></center>



            <label class="label">Ciudad:</label>
            <!--ES EL INPUT PARA LA CIUDAD-->
        <center><input class="datos" type="text" ng-model=user.CityCityname readonly></center>


            <!--ES EL TEXTAREA PARA LA DESCRIPCION-->
            <label class="label">Descripcion</label>
            <center><textarea class="Textarea" name="edbio" ng-model=user.bio ng-pattern="/^[A-Z0-9 _]{10,200}$/i"/></textarea></center>
     </form>



        <div class="mapa">
          <div id="map" map-lazy-load="https://maps.google.com/maps/api/js">
            <ng-map zoom="13" center="{{center}}" on-click="addMarkerAndPath()">
              <marker ng-repeat="pos in positions" position="{{pos}}"></marker>
              <shape name="polyline" id="foo"
              path="{{path}}"
              stroke-color="#FF0000"
              stroke-opacity="1.0"
              stroke-weight="3">
            </shape>
          </ng-map>
          </div>

              <div class="amigos"><!--AQUI VAN TODOS LOS AMIGOS-->
                    <div class="amigoAgregado">
                        <h5>Amigos Agregados</h5>
                        <div class="individuoAgregado" ng-repeat="x in friends" >
                            <div class="eliminarAmigo" ng-click=deleteFriend($index)><button>x</button> </div><!--BOTON PARA ELIMINAR UN AMIGO AGREGADO-->
                            <div class="nombreAmigo">{{x}}</div><!--Aca va el nombre de un amigo agregado-->
                            <div class="fotoAmigo" ng-click="goFriend($index)"></div><!--FOTO DE UN AMIGO AGREGADO-->
                        </div>
                    </div>


                    <div class="amigoSugerido">
                        <h5>Amigos Sugeridos</h5>
                        <div class="individuoAgregado" ng-repeat="y in candidates">
                            <div class="eliminarAmigo" ng-click="rejectUser($index)"><button>x</button></div><!--BOTON eliminar amigo sugerido-->
                            <div>
                                <button class="btnAmigoNuevo" ng-click="acceptFriend($index)">Agregar</button><!-- BOTON PARA ACEPTAR SOLICITUD DE AMIGO-->
                            </div>
                            <div class="nombreAmigo">{{y}}</div><!--Nombre del AMIGO SUGERIDO-->
                             <div class="fotoAmigo" ng-click=goUser($index)></div><!--FOTO DEL AMIGO SUGERIDO-->
                        </div>
                    </div>
                </div><!--Aqui terminan los amigos-->

        </div>



       <!--ESTAS SON LAS RUTAS-->
        <div class="rutas">
            <h2>RUTAS</h2>
            <!-- ESTAS SON LAS CARDS -->
                <div class="cards" ng-repeat="event in user.Events" ng-class="{'selected':$index == selectedRow}" ng-click="setClickedRow($index)">
                    <div class="fotoRuta" >
                      <input class="titulo" type="text">{{event.evtname}}</input>
                        <img ng-click="loadThis($index)" src={{user.Events.evtimage}} style="width:250px;height:200px;">
                       <!--Aqui va el titulo de la RUTA-->


                    <!-- Aqui iria la imagen de la ruta-->
                    </div>
                   <hr/>
            </div>
        </div><!--AQUI TERMINAN LAS CARDS-->

    </div>

</body>


</html>
